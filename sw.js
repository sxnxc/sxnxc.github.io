self.addEventListener("install",t=>{self.skipWaiting()}),self.addEventListener("notificationclick",t=>{const i=t.notification;var n=t.action,{chatid:o,chanid:e,by:t}=i.data;"close"===n?(console.log("action close for notification",i.data),i.close()):"open"===n?(console.log("action open for notification",i.data),clients.openWindow(`https://hyze.io/#${e}/${o}/${t}`)):(clients.openWindow(`https://hyze.io/#${e}/${o}/${t}`),i.close())}),self.addEventListener("notificationclose",t=>{t=t.notification;console.log("closed notification",t.data)}),self.addEventListener("push",t=>{console.log(t);var{txt:i,chatid:n,chanid:o,by:e,username:a,channame:s}=t.data.json();t.waitUntil(self.registration.showNotification(`${a} in ${s}`,{body:i,tag:o,icon:"https://tests.peter.sh/resources/icons/4.png",vibrate:[100,50,100],data:{chatid:n,chanid:o,by:e},requireInteraction:!1,actions:[{action:"open",title:"open message"}]}))});